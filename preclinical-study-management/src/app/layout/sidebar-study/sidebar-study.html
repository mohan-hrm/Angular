<aside class="sidebar" [class.sidebar--collapsed]="collapsed">
  <div class="sidebar__section-title">STUDY MANAGEMENT</div>

  <ul class="sidebar__list">
    <!-- STUDIES -->
    <li class="sidebar__item">
      <div class="sidebar__item-header" (click)="toggleStudies()">
        <span>Studies</span>
        <span class="arrow">{{ isStudiesOpen ? '▼' : '▶' }}</span>
      </div>

      <ul class="sidebar__sub-list" *ngIf="isStudiesOpen">
        <!-- List / View -->
        <li
          class="sidebar__sub-item"
          routerLink="/studies"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
        >
          List / View
        </li>

        <!-- Create Study -->
        <li
          class="sidebar__sub-item"
          routerLink="/create-study"
          routerLinkActive="active"
        >
          Create Study
        </li>

        <!-- ASSIGNMENTS SUBMENU -->
        <li class="sidebar__sub-item assignments-header" (click)="toggleAssignments()">
          <span>Assignments</span>
          <span class="arrow">{{ isAssignmentsOpen ? '▼' : '▶' }}</span>
        </li>

        <ul class="sidebar__sub-sub-list" *ngIf="isAssignmentsOpen">
          <li class="sidebar__sub-sub-item" routerLink="/assignments/groups" routerLinkActive="active">Groups</li>
          <li class="sidebar__sub-sub-item" routerLink="/assignments/subgroups" routerLinkActive="active">Subgroups</li>
          <li class="sidebar__sub-sub-item" routerLink="/assignments/cages" routerLinkActive="active">Cages</li>
          <li class="sidebar__sub-sub-item" routerLink="/assignments/phases" routerLinkActive="active">Phases</li>
          <li class="sidebar__sub-sub-item" routerLink="/assignments/measurement-schedule" routerLinkActive="active">Measurement Schedule</li>
          <li class="sidebar__sub-sub-item" routerLink="/assignments/compounds" routerLinkActive="active">Compounds</li>
        </ul>

        <li class="sidebar__sub-item" routerLink="/audit-trail" routerLinkActive="active">Audit Trail</li>
      </ul>
    </li>

    <!-- STUDY TEMPLATES -->
    <li class="sidebar__item">
      <div class="sidebar__item-header" (click)="toggleTemplates()">
        <span>Study Templates</span>
        <span class="arrow">{{ isTemplatesOpen ? '▼' : '▶' }}</span>
      </div>

      <ul class="sidebar__sub-list" *ngIf="isTemplatesOpen">
        <li class="sidebar__sub-item" routerLink="/templates/list" routerLinkActive="active">List / View</li>
        <li class="sidebar__sub-item" routerLink="/templates/assignments" routerLinkActive="active">Assignments</li>
        <li class="sidebar__sub-item" routerLink="/templates/audit" routerLinkActive="active">Audit Trail</li>
      </ul>
    </li>
  </ul>
</aside>
